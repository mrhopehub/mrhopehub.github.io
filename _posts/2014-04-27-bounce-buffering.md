---
layout: posts
title: "小知识：bounce buffering"
---
### bounce buffering
转载：Red Flag Server 4 核心优化技术白皮书<br>
在IA-32系统中，物理内存最开始的1GB被称为“低端内存”，1GB以上的部分称为“高端内存”。先前的Linux核心版本要求通往存储设备的数据缓存必须放在物理RAM的低端内存区域，即使是应用程序可以同时使用高端内存和低端内存也存在同样状况。这样，来自低端内存区域数据缓存的I/O 请求可以直接进行内存存取操作。但是，当应用程序发出一个I/O 请求，其中包含位于高端内存的数据缓存时，核心将强制在低端内存中分配一个临时数据缓存，并将位于高端内存的应用程序缓存数据复制到此处。这种额外的数据拷贝被称为“bounce buffering”，会明显地降低I/O 密集的数据库应用的性能，因为大量分配的bounce buffers会占用许多内存，而且bounce buffer的复制会增加系统内存总线的负荷。Red Flag Server 4大大减少（并且在许多情况下消除）了回弹缓存复制。